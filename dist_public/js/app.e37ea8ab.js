(function(){"use strict";var t={71:function(t,e,i){var n=i(3751),a=i(641);function s(t,e,i,n,s,o){const l=(0,a.g2)("Header"),r=(0,a.g2)("Main"),h=(0,a.g2)("Footer"),c=(0,a.g2)("Modal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(l,{state:s.state},null,8,["state"]),(0,a.bF)(r,{state:s.state},null,8,["state"]),(0,a.bF)(h,{state:s.state},null,8,["state"]),s.state.showModal?((0,a.uX)(),(0,a.Wv)(c,{key:0,state:s.state,content:s.state.modalContent},null,8,["state","content"])):(0,a.Q3)("",!0)])}const o=t=>((0,a.Qi)("data-v-705927d8"),t=t(),(0,a.jt)(),t),l={class:"header"},r=o((()=>(0,a.Lk)("div",{class:"headerImg"},null,-1))),h=[r];function c(t,e,i,n,s,o){return(0,a.uX)(),(0,a.CE)("div",l,h)}var d={name:"Header",props:["state"],data(){return{}},methods:{},mounted(){}},u=i(6262);const p=(0,u.A)(d,[["render",c],["__scopeId","data-v-705927d8"]]);var m=p,g=i(33);const k=t=>((0,a.Qi)("data-v-e860603a"),t=t(),(0,a.jt)(),t),f=k((()=>(0,a.Lk)("br",null,null,-1))),v=k((()=>(0,a.Lk)("br",null,null,-1))),b=k((()=>(0,a.Lk)("br",null,null,-1))),w=k((()=>(0,a.Lk)("br",null,null,-1))),y=k((()=>(0,a.Lk)("br",null,null,-1))),T={key:0,class:"links"},L=k((()=>(0,a.Lk)("br",null,null,-1)));function C(t,e,i,s,o,l){const r=(0,a.g2)("Link");return(0,a.uX)(),(0,a.CE)("div",{class:(0,g.C4)(["main",{loading:i.state.uploadInProgress}]),ref:"main"},[(0,a.Lk)("div",{id:"dropTarget",class:"dropTarget",onDragover:e[0]||(e[0]=(0,n.D$)((()=>{}),["prevent"])),onDrop:e[1]||(e[1]=(0,n.D$)((t=>l.dropFiles(t)),["prevent"])),onClick:e[2]||(e[2]=t=>l.loadFiles())},[(0,a.eW)(" throw sum filez [drag/click]"),f,v,(0,a.eW)(" accepted: gif, web[p/m], png, jp[e]g, mp4, mp3"),b,(0,a.eW)(" max size: 25MB"),w,(0,a.eW)(" WARRANTY: none"),y,i.state.links.length?((0,a.uX)(),(0,a.CE)("div",T,[(0,a.eW)(" links"),L,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.state.links,(t=>((0,a.uX)(),(0,a.Wv)(r,{state:i.state,link:t},null,8,["state","link"])))),256))])):(0,a.Q3)("",!0)],32)],2)}i(4114);const I=t=>((0,a.Qi)("data-v-25011601"),t=t(),(0,a.jt)(),t),F=["href"],_=I((()=>(0,a.Lk)("br",null,null,-1))),E=I((()=>(0,a.Lk)("br",null,null,-1))),M=I((()=>(0,a.Lk)("br",null,null,-1))),j=I((()=>(0,a.Lk)("br",null,null,-1))),A=I((()=>(0,a.Lk)("div",{style:{clear:"both"}},null,-1)));function x(t,e,i,s,o,l){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("a",{href:i.link.href,target:"_blank",class:"link",ref:"anchor"},[(0,a.Lk)("div",{class:"linkThumb",ref:"linkThumb",onClick:e[0]||(e[0]=(0,n.D$)((()=>{}),["prevent","stop"]))},null,512),(0,a.eW)(" #"+(0,g.v_)(i.link.ct+1),1),_,(0,a.eW)(" href: "+(0,g.v_)(i.link.href),1),E,(0,a.eW)(" type: "+(0,g.v_)(i.link.type),1),M,(0,a.eW)(" size: "+(0,g.v_)(i.link.size.toLocaleString("en-us")),1),j],8,F),A],64)}var D={name:"Link",props:["state","link"],data(){return{c:document.createElement("canvas"),x:null,linkType:"",img:null,w:0,h:0}},methods:{Draw(){this.x.globalAlpha=1,this.x.fillStyle="#0008",this.x.fillRect(0,0,this.c.width,this.c.height);let t,e="contain";switch(e){case"contain":t=this.c.width/this.c.height<=1.777777778?this.c.width/this.w:this.c.height/this.h;break;case"cover":t=this.c.width/this.c.height>1.777777778?this.c.width/this.w:this.c.height/this.h;break}let i=this.w*t,n=this.h*t;this.x.drawImage(this.img,this.c.width/2-i/2,this.c.height/2-n/2,i,n),requestAnimationFrame(this.Draw)}},mounted(){switch(this.$refs.linkThumb.appendChild(this.c),this.x=this.c.getContext("2d"),this.link.type){case"image/jpg":this.linkType="image";break;case"image/jpeg":this.linkType="image";break;case"image/webp":this.linkType="image";break;case"image/png":this.linkType="image";break;case"image/gif":this.linkType="image";break;case"video/mp4":this.linkType="video";break;case"video/mkv":this.linkType="video";break;case"video/webm":this.linkType="video";break;case"audio/mp3":this.linkType="audio";break;case"audio/mpeg":this.linkType="audio";break}this.c.width=500,this.c.height=500,this.c.style.width="200px",this.c.style.height="200px","video"==this.linkType&&(this.img=document.createElement("video"),this.img.loop=!0,this.img.muted=!0,this.img.oncanplay=()=>{this.w=this.img.videoWidth,this.h=this.img.videoHeight,this.img.play(),this.Draw()},this.img.src=this.link.href),"image"==this.linkType&&(this.img=new Image,this.img.onload=()=>{this.w=this.img.width,this.h=this.img.height,this.Draw()},this.img.src=this.link.href),"audio"==this.linkType&&(this.img=new Image,this.img.onload=()=>{this.w=400,this.h=400,this.Draw()},this.img.src="../assets/musicNote.png")}};const O=(0,u.A)(D,[["render",x],["__scopeId","data-v-25011601"]]);var W=O,X={name:"Main",props:["state"],components:{Link:W},data(){return{}},methods:{uploadFiles(t){fetch("upload.php",{method:"POST",body:t}).then((t=>t.json())).then((t=>{console.log("response from upload.php: ",t),t[0]&&t[1].map(((e,i)=>{this.addLink(t[2][i],t[3][i],i,location.origin+"/"+e)})),this.state.uploadInprogress=!1}))},processUpload(t){this.state.uploadInprogress=!0,this.$nextTick((()=>{let e=0,i=new FormData;i.append("description","no description"),t.map(((t,n)=>{e++,console.log(`file ${n}: `,t),i.append(`uploads_${n}`,t)})),e&&this.uploadFiles(i)}))},dropFiles(t){let e=[];t.dataTransfer.items?[...t.dataTransfer.items].forEach(((t,i)=>{if("file"===t.kind){const i=t.getAsFile();e=[...e,i]}})):e=Array.from(t.dataTransfer.files),e.length&&this.processUpload(e)},addLink(t,e,i,n){let a={size:t,type:e,ct:i,href:n};this.state.links.push(a)},loadFiles(){if(this.state.links.length)return;let t=document.createElement("input");t.type="file",t.name="uploads[]",t.multiple=!0,t.accept="image/gif, image/jiff, image/jpeg, image/jpg, image/png, image/webp, video/mp4, video/webm, video/mkv, audio/mp3, audio/wav, audio/mpeg",t.onchange=()=>this.processUpload(Array.from(t.files)),t.click()}},mounted(){}};const H=(0,u.A)(X,[["render",C],["__scopeId","data-v-e860603a"]]);var S=H;const $={class:"footer"},P=["innerHTML"];function R(t,e,i,n,s,o){return(0,a.uX)(),(0,a.CE)("div",$,[(0,a.Lk)("span",{class:"title",innerHTML:i.state.footerMsg},null,8,P)])}var z={name:"Footer",props:["state"],data(){return{}},methods:{},mounted(){}};const Q=(0,u.A)(z,[["render",R],["__scopeId","data-v-0d90a3d2"]]);var U=Q;const N={class:"modal"},B=["innerHTML"];function G(t,e,i,n,s,o){return(0,a.uX)(),(0,a.CE)("div",N,[(0,a.Lk)("button",{onClick:e[0]||(e[0]=t=>o.close()),class:"cancelButton"}," close/cancel "),(0,a.Lk)("div",{class:"modalInner",innerHTML:i.content},null,8,B)])}var K={name:"Modal",props:["state","content"],methods:{close(){this.state.showModal=!1}},mounted(){}};const Y=(0,u.A)(K,[["render",G],["__scopeId","data-v-c0d3b3d0"]]);var q=Y,J={name:"App",components:{Header:m,Main:S,Footer:U,Modal:q},data(){return{state:{footerMsg:"<b>IMJUR</b><br>A FREE DIGITAL ASSET HOSTING SERVICE - Â©"+(new Date).getFullYear()+'<br>contact: <a href="mailto:whitehotrobot@gmail.com">whitehotrobot@gmail.com</a>',links:[],uploadInProgress:!1,showModal:!1,modalContent:""}}},watch:{"state.uploadInProgress"(t){t?(state.modalContent="\n          loading...\n        ",state.showModal=!0):(state.modalContent="",state.showModal=!1)}}};const V=(0,u.A)(J,[["render",s]]);var Z=V;(0,n.Ef)(Z).mount("#app")}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,n,a,s){if(!n){var o=1/0;for(c=0;c<t.length;c++){n=t[c][0],a=t[c][1],s=t[c][2];for(var l=!0,r=0;r<n.length;r++)(!1&s||o>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[r])}))?n.splice(r--,1):(l=!1,s<o&&(o=s));if(l){t.splice(c--,1);var h=a();void 0!==h&&(e=h)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,a,s]}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,s,o=n[0],l=n[1],r=n[2],h=0;if(o.some((function(e){return 0!==t[e]}))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(r)var c=r(i)}for(e&&e(n);h<o.length;h++)s=o[h],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(c)},n=self["webpackChunkimjur_000_pe"]=self["webpackChunkimjur_000_pe"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],(function(){return i(71)}));n=i.O(n)})();
//# sourceMappingURL=app.e37ea8ab.js.map