(function(){"use strict";var t={7259:function(t,e,n){var i=n(3751),s=n(641);function a(t,e,n,i,a,o){const l=(0,s.g2)("Header"),r=(0,s.g2)("Main"),h=(0,s.g2)("Footer"),d=(0,s.g2)("Modal");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(l,{state:a.state},null,8,["state"]),(0,s.bF)(r,{state:a.state},null,8,["state"]),(0,s.bF)(h,{state:a.state},null,8,["state"]),a.state.showModal?((0,s.uX)(),(0,s.Wv)(d,{key:0,state:a.state,content:a.state.modalContent},null,8,["state","content"])):(0,s.Q3)("",!0)])}const o=t=>((0,s.Qi)("data-v-705927d8"),t=t(),(0,s.jt)(),t),r={class:"header"},h=o((()=>(0,s.Lk)("div",{class:"headerImg"},null,-1))),d=[h];function c(t,e,n,i,a,o){return(0,s.uX)(),(0,s.CE)("div",r,d)}var u={name:"Header",props:["state"],data(){return{}},methods:{},mounted(){}},p=n(6262);const m=(0,p.A)(u,[["render",c],["__scopeId","data-v-705927d8"]]);var g=m,f=n(33);const k=t=>((0,s.Qi)("data-v-3665ed36"),t=t(),(0,s.jt)(),t),v=k((()=>(0,s.Lk)("br",null,null,-1))),b=k((()=>(0,s.Lk)("br",null,null,-1))),w=k((()=>(0,s.Lk)("br",null,null,-1))),y=k((()=>(0,s.Lk)("br",null,null,-1))),L=k((()=>(0,s.Lk)("br",null,null,-1))),T={key:0,class:"links"},C=k((()=>(0,s.Lk)("br",null,null,-1)));function F(t,e,n,a,o,l){const r=(0,s.g2)("Link");return(0,s.uX)(),(0,s.CE)("div",{class:(0,f.C4)(["main",{loading:n.state.uploadInProgress}]),ref:"main"},[(0,s.Lk)("div",{id:"dropTarget",class:"dropTarget",onDragover:e[0]||(e[0]=(0,i.D$)((()=>{}),["prevent"])),onDrop:e[1]||(e[1]=(0,i.D$)((t=>l.dropFiles(t)),["prevent"])),onClick:e[2]||(e[2]=t=>l.loadFiles())},[(0,s.eW)(" throw sum filez [drag/click]"),v,b,(0,s.eW)(" accepted: gif, web[p/m], png, jp[e]g, mp4, mp3"),w,(0,s.eW)(" max size: 25MB"),y,(0,s.eW)(" WARRANTY: none"),L,n.state.links.length?((0,s.uX)(),(0,s.CE)("div",T,[(0,s.eW)(" links"),C,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.state.links,(t=>((0,s.uX)(),(0,s.Wv)(r,{state:n.state,link:t},null,8,["state","link"])))),256))])):(0,s.Q3)("",!0)],32)],2)}n(4114);const I=t=>((0,s.Qi)("data-v-2d8d7e4e"),t=t(),(0,s.jt)(),t),_=["href"],E=I((()=>(0,s.Lk)("br",null,null,-1))),M=I((()=>(0,s.Lk)("br",null,null,-1))),A=I((()=>(0,s.Lk)("br",null,null,-1))),j=I((()=>(0,s.Lk)("br",null,null,-1))),x=I((()=>(0,s.Lk)("div",{style:{clear:"both"}},null,-1)));function O(t,e,n,a,o,l){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("a",{href:n.link.href,target:"_blank",class:"link",ref:"anchor"},[(0,s.Lk)("div",{class:"linkThumb",ref:"linkThumb",onClick:e[0]||(e[0]=(0,i.D$)((()=>{}),["prevent","stop"]))},null,512),(0,s.eW)(" #"+(0,f.v_)(n.link.ct+1),1),E,(0,s.eW)(" href: "+(0,f.v_)(n.link.href),1),M,(0,s.eW)(" type: "+(0,f.v_)(n.link.type),1),A,(0,s.eW)(" size: "+(0,f.v_)(n.link.size.toLocaleString("en-us")),1),j],8,_),x],64)}var W={name:"Link",props:["state","link"],data(){return{c:document.createElement("canvas"),x:null,linkType:"",img:null,w:0,h:0}},methods:{Draw(){this.x.globalAlpha=1,this.x.fillStyle="#0008",this.x.fillRect(0,0,this.c.width,this.c.height);let t,e="contain";switch(e){case"contain":t=this.c.width/this.c.height<=1.777777778?this.c.width/this.w:this.c.height/this.h;break;case"cover":t=this.c.width/this.c.height>1.777777778?this.c.width/this.w:this.c.height/this.h;break}let n=this.w*t,i=this.h*t;this.x.drawImage(this.img,this.c.width/2-n/2,this.c.height/2-i/2,n,i),"video"==this.linkType&&requestAnimationFrame(this.Draw)}},mounted(){switch(this.$refs.linkThumb.appendChild(this.c),this.x=this.c.getContext("2d"),this.link.type.split("/")[0]){case"image":this.linkType="image";break;case"audio":this.linkType="audio";break;case"video":this.linkType="video";break}this.c.width=500,this.c.height=500,this.c.style.width="200px",this.c.style.height="200px","video"==this.linkType&&(this.img=document.createElement("video"),this.img.loop=!0,this.img.muted=!0,this.img.oncanplay=()=>{this.w=this.img.videoWidth,this.h=this.img.videoHeight,this.img.play(),this.Draw()},this.img.src=this.link.href),"image"!=this.linkType&&"audio"!=this.linkType||(this.img=new Image,this.img.onload=()=>{this.w=this.img.width,this.h=this.img.height,this.Draw()},this.img.src="audio"==this.linkType?"musicNote.png":"thumb.php?res=uploads/"+(l=this.link.href.split("/"))[l.length-1].split("?")[0])}};const D=(0,p.A)(W,[["render",O],["__scopeId","data-v-2d8d7e4e"]]);var X=D,H={name:"Main",props:["state"],components:{Link:X},data(){return{}},methods:{uploadFiles(t){fetch("upload.php",{method:"POST",body:t}).then((t=>t.json())).then((t=>{console.log("response from upload.php: ",t),t[0]&&t[1].map(((e,n)=>{this.addLink(t[2][n],t[3][n],n,location.href.split("?")[0]+e)})),this.state.uploadInprogress=!1}))},processUpload(t){this.state.uploadInprogress=!0,this.$nextTick((()=>{let e=0,n=new FormData;n.append("description","no description"),t.map(((t,i)=>{e++,console.log(`file ${i}: `,t),n.append(`uploads_${i}`,t)})),e&&this.uploadFiles(n)}))},dropFiles(t){let e=[];t.dataTransfer.items?[...t.dataTransfer.items].forEach(((t,n)=>{if("file"===t.kind){const n=t.getAsFile();e=[...e,n]}})):e=Array.from(t.dataTransfer.files),e.length&&this.processUpload(e)},addLink(t,e,n,i){let s={size:t,type:e,ct:n,href:i};this.state.links.push(s)},loadFiles(){if(this.state.links.length)return;let t=document.createElement("input");t.type="file",t.name="uploads[]",t.multiple=!0,t.accept="image/gif, image/jiff, image/jpeg, image/jpg, image/png, image/webp, video/mp4, video/webm, video/mkv, audio/mp3, audio/wav, audio/mpeg",t.onchange=()=>this.processUpload(Array.from(t.files)),t.click()}},mounted(){}};const S=(0,p.A)(H,[["render",F],["__scopeId","data-v-3665ed36"]]);var $=S;const P={class:"footer"},R=["innerHTML"];function z(t,e,n,i,a,o){return(0,s.uX)(),(0,s.CE)("div",P,[(0,s.Lk)("span",{class:"title",innerHTML:n.state.footerMsg},null,8,R)])}var Q={name:"Footer",props:["state"],data(){return{}},methods:{},mounted(){}};const U=(0,p.A)(Q,[["render",z],["__scopeId","data-v-0d90a3d2"]]);var N=U;const B={class:"modal"},G=["innerHTML"];function K(t,e,n,i,a,o){return(0,s.uX)(),(0,s.CE)("div",B,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=t=>o.close()),class:"cancelButton"}," close/cancel "),(0,s.Lk)("div",{class:"modalInner",innerHTML:n.content},null,8,G)])}var Y={name:"Modal",props:["state","content"],methods:{close(){this.state.showModal=!1}},mounted(){}};const q=(0,p.A)(Y,[["render",K],["__scopeId","data-v-c0d3b3d0"]]);var J=q,V={name:"App",components:{Header:g,Main:$,Footer:N,Modal:J},data(){return{state:{footerMsg:"<b>IMJUR</b><br>A FREE DIGITAL ASSET HOSTING SERVICE - Â©"+(new Date).getFullYear()+'<br>contact: <a href="mailto:whitehotrobot@gmail.com">whitehotrobot@gmail.com</a>',links:[],uploadInProgress:!1,showModal:!1,modalContent:""}}},watch:{"state.uploadInProgress"(t){t?(state.modalContent="\n          loading...\n        ",state.showModal=!0):(state.modalContent="",state.showModal=!1)}}};const Z=(0,p.A)(V,[["render",a]]);var tt=Z;(0,i.Ef)(tt).mount("#app")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,a){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],a=t[d][2];for(var l=!0,r=0;r<i.length;r++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[r])}))?i.splice(r--,1):(l=!1,a<o&&(o=a));if(l){t.splice(d--,1);var h=s();void 0!==h&&(e=h)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,s,a]}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,o=i[0],l=i[1],r=i[2],h=0;if(o.some((function(e){return 0!==t[e]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(r)var d=r(n)}for(e&&e(i);h<o.length;h++)a=o[h],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},i=self["webpackChunkimjur_000_pe"]=self["webpackChunkimjur_000_pe"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(7259)}));i=n.O(i)})();
//# sourceMappingURL=app.1735df0c.js.map