(function(){"use strict";var e={3365:function(e,t,i){var n=i(3751),a=i(641);function r(e,t,i,n,r,s){const o=(0,a.g2)("Header"),l=(0,a.g2)("Main"),h=(0,a.g2)("Footer");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(o,{state:r.state},null,8,["state"]),(0,a.bF)(l,{state:r.state},null,8,["state"]),(0,a.bF)(h,{state:r.state},null,8,["state"])])}const s=e=>((0,a.Qi)("data-v-705927d8"),e=e(),(0,a.jt)(),e),o={class:"header"},l=s((()=>(0,a.Lk)("div",{class:"headerImg"},null,-1))),h=[l];function d(e,t,i,n,r,s){return(0,a.uX)(),(0,a.CE)("div",o,h)}var c={name:"Header",props:["state"],data(){return{}},methods:{},mounted(){}},u=i(6262);const p=(0,u.A)(c,[["render",d],["__scopeId","data-v-705927d8"]]);var m=p,g=i(33);const f=e=>((0,a.Qi)("data-v-5507b56e"),e=e(),(0,a.jt)(),e),k={id:"dropTarget",class:"dropTarget",ondragover:"window.allowDrop(event)",ondrop:"window.drop(event)"},v=f((()=>(0,a.Lk)("br",null,null,-1))),b=f((()=>(0,a.Lk)("br",null,null,-1))),w=f((()=>(0,a.Lk)("br",null,null,-1))),y=f((()=>(0,a.Lk)("br",null,null,-1))),T=f((()=>(0,a.Lk)("br",null,null,-1))),L={key:0,class:"links"},E=f((()=>(0,a.Lk)("br",null,null,-1)));function j(e,t,i,n,r,s){const o=(0,a.g2)("Link");return(0,a.uX)(),(0,a.CE)("div",{class:(0,g.C4)(["main",{loading:i.state.uploadInProgress}]),ref:"main"},[(0,a.Lk)("div",k,[(0,a.eW)(" throw sum filez [drag/click]"),v,b,(0,a.eW)(" accepted: gif, web[p/m], png, jp[e]g, mp4, mp3"),w,(0,a.eW)(" max size: 100MB"),y,(0,a.eW)(" WARRANTY: none"),T,i.state.links.length?((0,a.uX)(),(0,a.CE)("div",L,[(0,a.eW)(" links"),E,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.state.links,(e=>((0,a.uX)(),(0,a.Wv)(o,{state:i.state,link:e},null,8,["state","link"])))),256))])):(0,a.Q3)("",!0)])],2)}i(4114);const I=e=>((0,a.Qi)("data-v-2dba8c09"),e=e(),(0,a.jt)(),e),_=["href"],A=I((()=>(0,a.Lk)("br",null,null,-1))),F=I((()=>(0,a.Lk)("br",null,null,-1))),x=I((()=>(0,a.Lk)("br",null,null,-1))),C=I((()=>(0,a.Lk)("br",null,null,-1))),D=I((()=>(0,a.Lk)("div",{style:{clear:"both"}},null,-1)));function O(e,t,i,r,s,o){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("a",{href:i.link.href,target:"_blank",class:"link",ref:"anchor"},[(0,a.Lk)("div",{class:"linkThumb",ref:"linkThumb",onClick:t[0]||(t[0]=(0,n.D$)((()=>{}),["prevent","stop"]))},null,512),(0,a.eW)(" #"+(0,g.v_)(i.link.ct+1),1),A,(0,a.eW)(" href: "+(0,g.v_)(i.link.href),1),F,(0,a.eW)(" type: "+(0,g.v_)(i.link.type),1),x,(0,a.eW)(" size: "+(0,g.v_)(i.link.size.toLocaleString("en-us")),1),C],8,_),D],64)}var W={name:"Link",props:["state","link"],data(){return{c:document.createElement("canvas"),x:null,linkType:"",img:null}},methods:{Draw(){this.x.globalAlpha=1,this.x.fillStyle="#0008",this.x.fillRect(0,0,this.c.width,this.c.height);let e,t="contain";switch(t){case"contain":e=this.c.width/this.c.height<=1.777777778?this.c.width/this.img.width:this.c.height/this.img.height;break;case"cover":e=this.c.width/this.c.height>1.777777778?this.c.width/this.img.width:this.c.height/this.img.height;break}let i=this.img.width*e,n=this.img.height*e;this.x.drawImage(this.img,this.c.width/2-i/2,this.c.height/2-n/2,i,n),requestAnimationFrame(this.Draw)}},mounted(){switch(this.$refs.linkThumb.appendChild(this.c),this.x=this.c.getContext("2d"),this.link.type){case"image/jpg":this.linkType="image";break;case"image/jpeg":this.linkType="image";break;case"image/webp":this.linkType="image";break;case"image/png":this.linkType="image";break;case"image/gif":this.linkType="image";break;case"video/mp4":this.linkType="video";break;case"video/mkv":this.linkType="video";break;case"video/webm":this.linkType="video";break;case"audio/mp3":this.linkType="audio";break;case"audio/mpeg":this.linkType="audio";break}this.c.width=500,this.c.height=500,this.c.style.width="200px",this.c.style.height="200px","video"==this.linkType&&(this.img=document.createElement("video"),this.img.loop=!0,this.img.muted=!0,this.img.oncanplay=()=>{this.img.play(),this.Draw()},this.img.src=this.link.href),"image"==this.linkType&&(this.img=new Image,this.img.onload=()=>{this.Draw()},this.img.src=this.link.href),"audio"==this.linkType&&(this.img=new Image,this.img.onload=()=>{this.Draw()},this.img.src="../assets/musicNote.png")}};const M=(0,u.A)(W,[["render",O],["__scopeId","data-v-2dba8c09"]]);var H=M;window.dragenter=e=>{console.log("dragenter: ",e),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",e.target.id)},window.allowDrop=e=>{e.preventDefault()},window.drop=e=>{e.preventDefault(),e.dataTransfer.items?[...e.dataTransfer.items].forEach(((e,t)=>{if("file"===e.kind){const i=e.getAsFile();console.log(`… file[${t}].name = ${i.name}`)}})):[...e.dataTransfer.files].forEach(((e,t)=>{console.log(`… file[${t}].name = ${e.name}`)}))};var S={name:"Main",props:["state"],components:{Link:H},data(){return{}},methods:{dragStartHandler(e){e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move"},dropHandler(e){console.log("files dropped: ",e)},addLink(e,t,i,n){let a={size:e,type:t,ct:i,href:n};this.state.links.push(a)},uploadFiles(e){fetch("upload.php",{method:"POST",body:e}).then((e=>e.json())).then((e=>{console.log("response from upload.php: ",e),e[0]&&e[1].map(((t,i)=>{this.addLink(e[2][i],e[3][i],i,location.origin+"/"+t)}))})),this.state.uploadInprogress=!1},loadFiles(){if(this.state.uploadInprogress=!0,this.state.links.length)return;let e=new FormData;e.append("description","no description");let t=document.createElement("input");t.type="file",t.name="uploads[]",t.multiple=!0,t.accept="image/gif, image/jiff, image/jpeg, image/jpg, image/png, image/webp, video/mp4, video/webm, video/mkv, audio/mp3",t.onchange=()=>{console.log("sending files: ",t);let i=0;Array.from(t.files).map(((t,n)=>{i++,console.log(`file ${n}: `,t),e.append(`uploads_${n}`,t)})),i&&this.uploadFiles(e)},t.click()}},mounted(){}};const X=(0,u.A)(S,[["render",j],["__scopeId","data-v-5507b56e"]]);var $=X;const R={class:"footer"},z=["innerHTML"];function P(e,t,i,n,r,s){return(0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("span",{class:"title",innerHTML:i.state.footerMsg},null,8,z)])}var Q={name:"Footer",props:["state"],data(){return{}},methods:{},mounted(){}};const N=(0,u.A)(Q,[["render",P],["__scopeId","data-v-0d90a3d2"]]);var G=N,K={name:"App",components:{Header:m,Main:$,Footer:G},data(){return{state:{footerMsg:"<b>IMJUR</b><br>A FREE DIGITAL ASSET HOSTING SERVICE - ©"+(new Date).getFullYear()+'<br>contact: <a href="mailto:whitehotrobot@gmail.com">whitehotrobot@gmail.com</a>',links:[],uploadInProgress:!1}}}};const Y=(0,u.A)(K,[["render",r]]);var q=Y;(0,n.Ef)(q).mount("#app")}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,r){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],r=e[d][2];for(var o=!0,l=0;l<n.length;l++)(!1&r||s>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[l])}))?n.splice(l--,1):(o=!1,r<s&&(s=r));if(o){e.splice(d--,1);var h=a();void 0!==h&&(t=h)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,a,r]}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,s=n[0],o=n[1],l=n[2],h=0;if(s.some((function(t){return 0!==e[t]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var d=l(i)}for(t&&t(n);h<s.length;h++)r=s[h],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self["webpackChunkimjur_000_pe"]=self["webpackChunkimjur_000_pe"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],(function(){return i(3365)}));n=i.O(n)})();
//# sourceMappingURL=app.58f98e27.js.map